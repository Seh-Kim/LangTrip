<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- favicon 설정 -->
<link rel="icon"
	href="http://localhost/html_prj/common/images/favicon.ico">
<!-- bootstrap CDN -->
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css">
<style type="text/css">
</style>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
<!-- jquery CDN -->
$(function() {
});

</script>
</head>
<body>
	<div>
	<form id="courseUpdate" enctype="multipart/form-data">
	<input type="hidden" name="courseSeq" th:value="${cDTO.courseSeq}"/>
	카테고리 :
	<select id="category" name="category" class="form-control">
		<option value="">카테고리 선택</option>
		<option value="영어" th:selected="${cDTO.category == '영어'}">영어</option>
		<option value="일본어" th:selected="${cDTO.category == '일본어'}">일본어</option>
		<option value="중국어" th:selected="${cDTO.category == '중국어'}">중국어</option>
	</select>
	난이도 :
	<select id="level" name="difficulty" class="form-control">
		<option value="">난이도 선택</option>
		<option value="초급" th:selected="${cDTO.difficulty=='초급'}">초급</option>
		<option value="중급" th:selected="${cDTO.difficulty=='중급'}">중급</option>
		<option value="고급" th:selected="${cDTO.difficulty=='고급'}">고급</option>
	</select>
	<br>
	강의명 : <input type="text" name="courseTitle" th:value="${cDTO.courseTitle}" /><br>
	이미지 미리보기 : <img th:src="@{${cDTO.thumbnailPath}}" alt="썸네일" /><br>
	썸네일 : <input type="file" name="thumbnail" id="thumbnail" th:value="${cDTO.thumbnailName}" class="form-control" accept="image/*"><br>
	강의설명 : <input type="text" name="introduction" th:value="${cDTO.introduction}" /><br>
	<button type="button" class="btn btn-primary" onclick="modifyCourse()">수정</button>
</form>
<a href="javascript:history.back()">뒤로가기</a>
	</div>


	<script>
function modifyCourse(){
	const courseData = document.getElementById('courseUpdate');
	const formData = new FormData(courseData);
	axios.post("/upload/modify_course", formData)
		.then(res=>{
			alert("수정 성공");
			history.back(); 
		})
		.catch(err=>{
			alert("수정 실패 다시 확인 하세요");
			console.log(err);
		})
			
}//modfiyCourse

</script>
</body>
</html>